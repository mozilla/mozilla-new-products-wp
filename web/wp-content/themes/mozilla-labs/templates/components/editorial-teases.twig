{# If there are no selected posts, pull the latest 3 posts. #}
{% set teases = block.posts is empty ? get_posts({ limit: 3 }) : get_posts(block.posts) %}

<section class="grid grid-site my-32 md:my-52 first:mt-0 last:mb-0">
  <div class="col-span-full">
    <div class="col-span-full flex flex-row gap-x-1 justify-center type-caption font-bold mb-10">
      <h2 class="text-white">{{ block.title|default('The Latest') }}</h2>
      <span aria-hidden="true">/</span>
       <a href="/stories" class="hocus:text-white">View All</a></a>
    </div>

    <ul class="flex flex-col gap-y-20 md:grid md:grid-cols-3 md:gap-x-32 lg:gap-x-48 md:gap-y-32">
      {% for article in teases %}
        {% set product = article.product %}
        <li class="flex flex-col gap-y-4">
            {% if article.thumbnail %}
              {% include "components/image-icon-watermark.twig" with {
                image: article.thumbnail,
                icon: product and product.icons.grayscale ? get_image(product.icons.grayscale) : null
              } %}
            {% endif %}

            <div class="flex flex-col gap-y-0">
              {% if article.category %}
                <p class="text-secondary/60 block type-headline-14">{{ article.category }}</p>
              {% endif %}

              <h3 class="type-headline-14 leading-tight">
                <a href="{{ article.link }}">
                  {{ article.title }}
                </a>
              </h3>
            </div>
          </li>
      {% endfor %}
    </ul>
  </div>
</section>
